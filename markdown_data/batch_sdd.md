# File: /content/odoo_doc17.0/fr/content/applications/finance/accounting/payments/batch_sdd.md

SEPA Direct Debit (SDD) customer payments
=========================================

SEPA (Single Euro Payments Area) is a payment-integration initiative of
the European Union that facilitates standardized and simplified
electronic payments in euros across participating countries. With **SEPA
Direct Debit** (SDD), customers sign a mandate that authorizes you to
collect future payments from their bank accounts. This is particularly
useful for recurring payments based on a
`subscription </applications/sales/subscriptions>`{.interpreted-text
role="doc"}.

You can record customer `SDD (SEPA Direct Debit)`{.interpreted-text
role="abbr"} mandates in Odoo and generate XML files listing payments to
be collected with the mandates.
`Uploading these files to your bank <accounting/batch_sdd/XML>`{.interpreted-text
role="ref"} instructs them to collect these payments from your
customers.

::: {.note}
::: {.title}
Note
:::

\- `SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} is supported
by all SEPA countries, which includes the 27 member states of the
European Union as well as additional countries. - [List of all SEPA
countries](https://www.europeanpaymentscouncil.eu/document-library/other/epc-list-sepa-scheme-countries).
:::

Configuration {#accounting/batch_sdd/sepa-configuration}
-------------

### Creditor identifier

To enable `SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} for
customer payments, go to `Accounting --> Configuration -->
Settings`{.interpreted-text role="menuselection"}, scroll to the
`Customer Payments`{.interpreted-text role="guilabel"} section, enable
`SEPA Direct Debit
(SDD)`{.interpreted-text role="guilabel"}, and click
`Save`{.interpreted-text role="guilabel"}. Then, scroll to the
`Customer Payments`{.interpreted-text role="guilabel"} section again,
set the company\'s `Creditor Identifier`{.interpreted-text
role="guilabel"}, and click `Save`{.interpreted-text role="guilabel"}.

::: {.tip}
::: {.title}
Tip
:::

The creditor identifier is provided by your bank or the authority
responsible for delivering them in your country. For testing purposes,
you can use the test creditor identifier
[DE98ZZZ09999999999]{.title-ref}.
:::

### PAIN file version

By default, the
`SEPA-compliant XML files <accounting/batch_sdd/XML>`{.interpreted-text
role="ref"} generated by Odoo use the
`SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"}
**PAIN.008.001.02** format. If your bank requires the updated 2023
version, go to
`Accounting --> Configuration --> Journals`{.interpreted-text
role="menuselection"}. Then, in the
`Incoming Payments`{.interpreted-text role="guilabel"} tab, set the
`SEPA Pain version`{.interpreted-text role="guilabel"} field to
`Updated 2023 (Pain 008.001.08)`{.interpreted-text role="guilabel"}.

SEPA Direct Debit Mandates {#accounting/batch_sdd/sdd_mandates}
--------------------------

An `SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} mandate is a
legal document authorizing a company to debit funds from a customer\'s
bank account. It includes key information, such as the customer\'s name
and IBAN, the mandate\'s start and end date, and the mandate\'s unique
identifier. The mandate form must be filled in and signed by the
customer.

### Creating mandates

To create an `SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"}
mandate:

1.  Go to
    `Accounting --> Customers --> Direct Debit Mandates`{.interpreted-text
    role="menuselection"}.
2.  Click `New`{.interpreted-text role="guilabel"} and fill out the
    fields.
3.  Click `Print`{.interpreted-text role="guilabel"} to generate a PDF
    of the mandate form, then send it to the customer for signature.
4.  Click `Validate`{.interpreted-text role="guilabel"} to activate the
    mandate.

::: {.important}
::: {.title}
Important
:::

A valid IBAN must be defined in the `Account Number`{.interpreted-text
role="guilabel"} field of the `bank journal
<../bank>`{.interpreted-text role="doc"} used to receive
`SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} payments for
the mandate.
:::

::: {.tip}
::: {.title}
Tip
:::

\- To print the mandate form after the mandate has been validated, click
the `fa-cog`{.interpreted-text role="icon"} (`gear`{.interpreted-text
role="guilabel"}) icon, then select `Mandate form`{.interpreted-text
role="guilabel"}. - The `SDD Scheme`{.interpreted-text role="guilabel"}
depends on the type of customer: Select `CORE`{.interpreted-text
role="guilabel"} for B2C customers and `B2B`{.interpreted-text
role="guilabel"} for B2B customers. -
`SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} mandates are
created automatically for `online payments made with SDD
<../../payment_providers/sdd>`{.interpreted-text role="doc"}.
:::

Once an `SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} mandate
is active, subsequent `SDD (SEPA Direct Debit)`{.interpreted-text
role="abbr"} payments can be generated via Odoo and
`uploaded to your online banking interface <accounting/batch_sdd/XML>`{.interpreted-text
role="ref"}. Customers with an active
`SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} mandate can
also use this payment method for `online purchases
<../../payment_providers/sdd>`{.interpreted-text role="doc"}.

### Closing or revoking a mandate {#accounting/batch_sdd/close-revoke-mandate}

`SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} mandates are
closed automatically after their `End Date`{.interpreted-text
role="guilabel"}. If this field is left empty, the mandate remains
active until it is closed or revoked. To close or revoke a mandate, go
to
`Accounting --> Customers --> Direct Debit Mandates`{.interpreted-text
role="menuselection"}, select the relevant mandate, and click
`Close`{.interpreted-text role="guilabel"} or `Revoke`{.interpreted-text
role="guilabel"}.

**Closing** a mandate updates the mandate\'s end day to the current day.
Invoices issued after the present day will not be processed with an
`SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} payment.
**Revoking** a mandate disables the mandate immediately. No
`SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} payment can be
registered anymore, regardless of the invoice\'s date. However, payments
that have already been registered are still included in the next `SDD
XML file <accounting/batch_sdd/XML>`{.interpreted-text role="ref"}.

::: {.warning}
::: {.title}
Warning
:::

\- Mandates are automatically closed 36 months after the date of the
last collection. - Closed or revoked mandates cannot be reactivated.
:::

Processing `SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} payments {#accounting/batch_sdd/XML}
----------------------------------------------------------------------------

All registered `SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"}
payments can be processed at once by uploading an XML file containing a
batch of all posted `SDD (SEPA Direct Debit)`{.interpreted-text
role="abbr"} payments to your online banking interface. To do so, follow
these steps:

1.  `Create a batch payment <accounting/batch/creation>`{.interpreted-text
    role="ref"} and include the
    `SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} payments to
    collect.

    ::: {.tip}
    ::: {.title}
    Tip
    :::

    You can filter payments by SDD scheme using the
    `SDD CORE`{.interpreted-text role="guilabel"} and
    `SDD B2B`{.interpreted-text role="guilabel"} filters.
    :::

2.  `Validate`{.interpreted-text role="guilabel"} the batch payment. The
    XML file is generated automatically and available for download in
    the chatter.

3.  Download the XML file and upload it to your online banking interface
    to process the payments.

4.  Once the `SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"}
    batch payment has been received, `reconcile the transaction
    <../bank/reconciliation>`{.interpreted-text role="doc"} with the
    batch payment to mark the related invoices as
    `Paid`{.interpreted-text role="guilabel"}.

::: {.tip}
::: {.title}
Tip
:::

To view the payments and invoices linked to a specific
`SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} mandate, click
the `Collections`{.interpreted-text role="guilabel"} and
`Invoices Paid`{.interpreted-text role="guilabel"} smart button on the
`Direct Debit
Mandate <accounting/batch_sdd/sdd_mandates>`{.interpreted-text
role="ref"} form.
:::

::: {.note}
::: {.title}
Note
:::

The files generated by Odoo follow the SEPA Direct Debit
**PAIN.008.001.02** specifications, as required by the SEPA
customer-to-bank [implementation
guidelines](https://www.europeanpaymentscouncil.eu/document-library/implementation-guidelines/sepa-credit-transfer-customer-psp-implementation),
which ensures compatibility with the banks.
:::

::: {.seealso}
\- `batch`{.interpreted-text role="doc"} -
`SEPA Direct Debit for online payments <../../payment_providers/sdd>`{.interpreted-text
role="doc"} - [SEPA
guidelines](https://www.europeanpaymentscouncil.eu/document-library/implementation-guidelines/sepa-credit-transfer-inter-psp-implementation-guidelines)
:::

`SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} rejections
-------------------------------------------------------------------

`SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} rejections can
occur for several reasons, the most common being insufficient funds in
the customer\'s account. With
`SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"}, the
recipient\'s account is credited before the funds are actually debited
from the customer\'s account. As a result, if an
`SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} payment is
later rejected, the bank automatically withdraws the amount of that
payment from the recipient\'s account, and a new transaction for a
negative amount is created to reflect the
`SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} rejection.

In this case, you must reverse the journal entry associated with the
rejected payment and reconcile the reversal of the journal entry with
the transaction for the `SDD (SEPA Direct Debit)`{.interpreted-text
role="abbr"} rejection. To do so, follow these steps:

1.  Access the invoice linked to the rejected
    `SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} payment.
2.  Click the `fa-info-circle`{.interpreted-text role="icon"}
    `(information)`{.interpreted-text role="guilabel"} icon in the
    footer of the `Invoice Lines`{.interpreted-text role="guilabel"}
    tab, then click `View`{.interpreted-text role="guilabel"} to access
    the payment associated with the invoice.
3.  Click the `Journal entry`{.interpreted-text role="guilabel"} smart
    button to access the related journal entry.
4.  Click `Reverse entry`{.interpreted-text role="guilabel"}, optionally
    edit the fields in the popup, then click `Reverse`{.interpreted-text
    role="guilabel"}. A reversal entry is created with a
    `Reference`{.interpreted-text role="guilabel"} mentioning the
    initial journal entry. As a result, the invoice is marked as
    `Not paid`{.interpreted-text role="guilabel"}.
5.  `Access the bank journal's reconciliation view <accounting/reconciliation/access>`{.interpreted-text
    role="ref"} and
    `reconcile <accounting/reconciliation/reconcile>`{.interpreted-text
    role="ref"} the transaction created for the
    `SDD (SEPA Direct Debit)`{.interpreted-text role="abbr"} rejection
    with the reversal of the entry related to the payment.
