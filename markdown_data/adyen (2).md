# File: /content/odoo_doc17.0/fr/content/applications/finance/payment_providers/adyen.md

Adyen
=====

 is a Dutch company that offers several
online payment possibilities.

::: {.seealso}
\- `payment_providers/add_new`{.interpreted-text role="ref"} -
`../payment_providers`{.interpreted-text role="doc"}
:::

::: {.note}
::: {.title}
Note
:::

Adyen works only with customers processing **more** than **10 million
annually** or invoicing a **minimum** of **1.000** transactions **per
month**.
:::

Configuration
-------------

::: {.seealso}
`payment_providers/add_new`{.interpreted-text role="ref"}
:::

First, reach Adyen support to enable
`multiple partial capture`{.interpreted-text role="guilabel"} for you.

### Credentials tab

Odoo needs your **API Credentials** to connect with your Adyen account,
which comprise:

-   **Merchant Account**: The code of the merchant account to use with
    Adyen.
-   `API Key <adyen/api_and_client_keys>`{.interpreted-text role="ref"}:
    The API key of the webservice user.
-   `Client Key <adyen/api_and_client_keys>`{.interpreted-text
    role="ref"}: The client key of the webservice user.
-   `HMAC Key <adyen/hmac_key>`{.interpreted-text role="ref"}: The HMAC
    key of the webhook.
-   `Checkout API URL <adyen/urls>`{.interpreted-text role="ref"}: The
    base URL for the Checkout API endpoints.
-   `Recurring API URL <adyen/urls>`{.interpreted-text role="ref"}: The
    base URL for the Recurring API endpoints.

You can copy your credentials from your Adyen account, and paste them in
the related fields under the **Credentials** tab.

::: {.important}
::: {.title}
Important
:::

If you are trying Adyen as a test, with an Adyen *test account*, head to
`Accounting --> Configuration --> Payment Providers`{.interpreted-text
role="menuselection"}. There, click on `Adyen`{.interpreted-text
role="guilabel"}, enable `Test Mode`{.interpreted-text role="guilabel"}
and enter your credentials in the `Credentials`{.interpreted-text
role="guilabel"} tab.
:::

#### API Key and Client Key {#adyen/api_and_client_keys}

In order to retrieve the API Key and the Client Key, log into your Adyen
account, go to `Developers --> API Credentials`{.interpreted-text
role="menuselection"}.

-   If you already have an API user, open it.
-   If you don\'t have an API user yet, click on **Create new
    credential**.

Go to `Server settings --> Authentification`{.interpreted-text
role="menuselection"} and copy or generate your **API Key**. Be careful
to copy your API key as you\'ll not be allowed to get it later without
generating a new one.

Now, head to `Client settings --> Authentification`{.interpreted-text
role="menuselection"} and cody or generate your **Client Key**. This is
also the place where you can `allow payments to be made from your
website <adyen/allowed_origins>`{.interpreted-text role="ref"}.

#### HMAC key {#adyen/hmac_key}

In order to retrieve the HMAC Key, you\'ll need to configure a [Standard
Notification]{.title-ref} webhook. For this, log into your Adyen account
then go to `Developers --> Webhooks --> Add webhook
--> Add Standard notification`{.interpreted-text role="menuselection"}.

{.align-center}

There, in `General --> Server configuration --> URL`{.interpreted-text
role="menuselection"}, enter your server address followed by
[/payment/adyen/notification]{.title-ref}.

{.align-center}

Then enter `Security --> HMAC Key --> Generate`{.interpreted-text
role="menuselection"}. Be careful to copy the key as you will not be
allowed to do it later without generating a new one.

{.align-center}

You have to save the webhook to finalize its creation.

#### API URLs {#adyen/urls}

All Adyen API URLs include a customer area-specific prefix generated by
Adyen. To configure the URLs, proceed as follows:

1.  Log into your Adyen account, then go to
    `Developers --> API URLs`{.interpreted-text role="menuselection"}.

2.  Copy the `Prefix`{.interpreted-text role="guilabel"} for your live
    Customer area (i.e., **data center**) and save it for later.

    

3.  In Odoo,
    `navigate to the payment provider Adyen <payment_providers/add_new>`{.interpreted-text
    role="ref"}.

4.  In the `Checkout API URL`{.interpreted-text role="guilabel"} field,
    enter the following URL and replace [yourprefix]{.title-ref} with
    the prefix you previously saved:
    [https://yourprefix-checkout-live.adyenpayments.com/checkout]{.title-ref}

5.  In the `Recurring API URL`{.interpreted-text role="guilabel"} field,
    enter the following URL and replace [yourprefix]{.title-ref} with
    the prefix you previously saved:
    [https://yourprefix-pal-live.adyenpayments.com/pal/servlet/Recurring]{.title-ref}.

::: {.note}
::: {.title}
Note
:::

If you are trying Adyen as a test, you can use the following URLs
instead:

-   `Checkout API URL`{.interpreted-text role="guilabel"}:
    [https://checkout-test.adyen.com]{.title-ref}
-   `Recurring API URL`{.interpreted-text role="guilabel"}:
    [https://pal-test.adyen.com/pal/servlet/Recurring]{.title-ref}
:::

### Adyen Account

#### Allow payments from a specific origin {#adyen/allowed_origins}

To allow payment originated from your website, follow the steps in
`adyen/api_and_client_keys`{.interpreted-text role="ref"} to navigate to
your API user and go to `Add allowed origins`{.interpreted-text
role="menuselection"}, then add the URLs from where payments will be
made (the URLs of the servers hosting your Odoo instances).

{.align-center}

### Place a hold on a card

Adyen allows you to capture an amount manually instead of having an
immediate capture.

To set it up, enable the **Capture Amount Manually** option on Odoo, as
explained in the
`payment providers documentation <payment_providers/manual_capture>`{.interpreted-text
role="ref"}.

Then, open your Adyen Merchant Account, go to
`Account --> Settings`{.interpreted-text role="menuselection"}, and set
the **Capture Delay** to **manual**.

{.align-center}

::: {.caution}
::: {.title}
Caution
:::

\- If you configure Odoo to capture amounts manually, make sure to set
the **Capture Delay** to **manual** on Adyen. Otherwise, the transaction
will be blocked in the authorized state in Odoo.
:::

::: {.note}
::: {.title}
Note
:::

\- After **7 days**, if the transaction has not been captured yet, the
customer has the right to **revoke** it.
:::

::: {.seealso}
`../payment_providers`{.interpreted-text role="doc"}
:::
